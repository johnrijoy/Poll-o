{"version":3,"sources":["context/contextData.js","context/appContext.js","components/LoginForm.js","components/RegisterForm.js","components/AllPolls.js","components/Pollform.js","components/Pollcard.js","components/Pollstatus.js","components/AttemptedPolls.js","components/MyPolls.js","components/WelcomeMessage.js","components/ModalLogin.js","components/CreatePoll.js","components/ModalCreatePoll.js","components/Navigation.js","layout/Layout.js","pages/Home.js","pages/Dashboard.js","pages/Login.js","pages/Pollpage.js","App.js","index.js"],"names":["getState","getStore","getActions","setStore","store","message","token","isAuthenticated","user","test","actions","getTest","console","log","syncTokenFromSessionStorage","sessionStorage","getItem","undefined","getuser","login","email","password","a","opts","method","headers","data","JSON","stringify","axios","process","resp","status","setItem","access_token","error","register","name","logout","removeItem","response","create_post","polldata","apidata","question","options","code","Context","React","createContext","injectContext","PassedComponent","props","useState","state","updatedStore","setState","Object","assign","useEffect","Provider","value","LoginForm","alerts","setAlerts","setEmail","setPassword","useContext","history","useHistory","location","useLocation","Form","Group","className","controlId","Label","Control","type","placeholder","onChange","e","target","Alert","variant","Button","onClick","preventDefault","then","handleSuccess","goBack","pathname","catch","msg","handleSubmit","RegisterForm","setName","push","AllPolls","polls","loading","get","this","Row","xs","md","lg","map","poll","style","height","Col","Spinner","animation","handleClick","Component","Pollform","poll_id","option","setOption","onSubmit","vote","setchanged","changed","event","option_id","polloptions","entries","key","i","Check","label","Pollcard","setPolldata","open","setOpen","Card","border","Body","pollid","params","handleCheckout","id","Title","Collapse","in","Text","ListGroup","Item","Footer","Pollstatus","votes","pollvotes","totalvotes","progress","item","ProgressBar","striped","now","AttemptedPolls","setPolls","MyPolls","WelcomeMessage","size","ModalLogin","setRegister","setModalShow","Modal","Header","closeButton","Nav","Link","active","OptionGroup","count","InputGroup","handleChangeInput","CreatePoll","addOption","values","length","removeOption","pop","context","ret","onHide","prevState","as","rows","ButtonGroup","contextType","ModalCreatePoll","centered","Navigation","modalShow","Navbar","bg","expand","Container","exact","to","Brand","Toggle","show","NavDropdown","title","Divider","go","Layout","heading","children","Home","viewPolls","setViewPolls","Dashboard","Tabs","defaultActiveKey","Tab","eventKey","Login","authenticated","Pollpage","useParams","setLoading","setChanged","setPoll","body","attempted","column","sm","plaintext","readOnly","defaultValue","window","href","path","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.433b62b8.chunk.js","sourcesContent":["import axios from 'axios';\n\nconst getState = ({ getStore, getActions, setStore }) => {\n  return {\n    store:{\n      message: null,\n      token: null,\n      isAuthenticated: false,\n      user: null,\n      test: 'store working'\n    },\n    actions:{\n\n      getTest: ()=>{\n        console.log('actions working')\n      },\n\n      syncTokenFromSessionStorage:()=>{\n        const token = sessionStorage.getItem(\"token\");\n        console.log(\"refreshin, syncing tokens\")\n        if (token && token !== \"\" && token !== undefined ) \n        {\n          setStore({token: token });\n          const action = getActions();\n          action.getuser()\n        }else{\n          setStore({\n            token: null, \n            isAuthenticated: false,\n            user: null\n          });\n        }\n      },\n\n      login: async (email, password)=>{\n        console.log('logging in');\n\n        const opts={\n          method: \"POST\",\n          headers: {\n            \"Content-Type\":\"application/json\"\n          },\n          data: JSON.stringify({\n            email: email,\n            password: password\n          })\n        };\n\n        try{\n          const resp = await axios(process.env.REACT_APP_API_SERVER+\"/api/auth/create-token\", opts);\n          //console.log(resp.status, resp.data.access_token);\n          if (resp.status !== 200){\n            console.log(\"Error 1\");\n            return false;\n          }\n\n          const data = await resp.data;\n          console.log(\"Backend data:\", data);\n          sessionStorage.setItem(\"token\", data.access_token);\n          setStore({ \"token\": data.access_token });\n          const action = getActions();\n          action.getuser()\n          return true; \n        }\n        catch(error){\n          console.error(\"Error 2\", error);\n          throw error;\n        }\n      },\n\n      register: async (email, name, password)=>{\n        console.log('Registering User');\n\n        const opts={\n          method: \"POST\",\n          headers: {\n            \"Content-Type\":\"application/json\"\n          },\n          data: JSON.stringify({\n            email: email,\n            name: name,\n            password: password\n          })\n        };\n\n        try{\n          const resp = await axios(process.env.REACT_APP_API_SERVER+\"/api/auth/create-user\", opts);\n          //console.log(resp.status, resp.data.access_token);\n          if (resp.status !== 200){\n            console.log(\"Error create-user 1\");\n            return false;\n          }\n\n          const data = await resp.data;\n          console.log(\"Backend data:\", data);\n          return true;\n        }\n        catch(error){\n          console.error(\"Error creat-user 2\", error);\n          throw error;\n        }\n      },\n\n      logout: ()=>{\n        sessionStorage.removeItem(\"token\");\n        setStore({ token: null });\n        setStore({isAuthenticated : false, user: null });\n        console.log(\"tokens removed, logged out\")\n      },\n\n      getuser: async ()=>{\n        console.log('getting user details');\n        const store = getStore()\n        const opts={\n          headers: {\n            \"Accept\": \"application/json\",\n            \"Authorization\": \"Bearer \"+ store.token \n          }\n        }\n      try {\n      const resp = await axios(process.env.REACT_APP_API_SERVER+\"/api/auth/userdata\", opts)\n         \n      if (resp.status === 200){\n          console.log(\"setting store.user\",resp.data);\n          setStore({user: resp.data});\n          setStore({isAuthenticated: true });\n          return true;\n      }\n      }\n      \n      catch(error){\n       console.error(error.response.status, error);\n       if (error.response.status === 401) getActions().logout();\n      }      \n\n      },\n      \n      create_post: async (polldata)=>{\n        console.log('Creating Post', polldata);\n        const store = getStore()\n        console.log(store);        \n        const apidata = {\n          'question':polldata.question,\n          'options':polldata.options\n        };\n        const opts={\n          method: \"POST\",\n          headers: {\n            \"Content-Type\":\"application/json\",\n            \"Authorization\": \"Bearer \"+ store.token \n          },\n          data: JSON.stringify(apidata)\n        };\n\n        try{\n          const resp = await axios(process.env.REACT_APP_API_SERVER+\"/api/polls/createpoll\", opts);\n          //console.log(resp.status, resp.data.access_token);\n          if (resp.status !== 200){\n            console.log(\"Error create_post 1\");\n            return false;\n          }\n\n          const data = await resp.data;\n          console.log(\"Backend data:\", data);\n          return true;\n        }\n        catch(error){\n          console.error(\"Error create_post 2\", error.code);\n          return false;\n        }\n      }\n\n\n    }\n  };\n};\n\nexport default getState;\n","import React, { useState, useEffect } from 'react';\nimport getState from './contextData';\n\nexport const Context = React.createContext(null);\n\nconst injectContext = PassedComponent => {\n  const StoreWrapper = props => {\n\n    const [state, setState] = useState(\n      getState({\n        getStore: () => state.store,\n        getActions: () => state.actions,\n        setStore: (updatedStore)=> setState({\n          store: Object.assign(state.store, updatedStore),\n          actions: { ...state.actions }\n        })\n      })\n    );\n\n    useEffect(()=>{\n      state.actions.syncTokenFromSessionStorage();\n    },[state.actions]);\n\n    return (\n      <Context.Provider value={state}>\n        <PassedComponent {...props}/>\n      </Context.Provider>\n    );\n  };\n\n  return StoreWrapper;\n};\n\nexport default injectContext;\n","import React, { useState, useContext } from \"react\";\nimport { useHistory, useLocation } from 'react-router-dom';\nimport {\n  Alert,\n  Form,\n  Button\n} from 'react-bootstrap';\n\nimport { Context } from '../context/appContext';\n\nconst LoginForm = (props)=>{\n  const [alerts, setAlerts] = useState(null);\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n\n  const actions = useContext(Context).actions;\n  const history = useHistory();\n  const location  = useLocation();\n\n  const handleSubmit = (e)=> {\n    e.preventDefault();\n    actions.login(email, password)\n      .then(()=>{\n        if (props.handleSuccess)\n        (props.handleSuccess())\n        else\n          (history.goBack())\n        console.log(location.pathname);\n        // redirect to dashboard\n        //history.push('/dashboard');\n        console.log(\"You have beeen logged in\");\n      }\n      ).catch((error)=>{\n        console.log(\"Error 3\", error.response.data.msg);\n        setAlerts(error.response.data.msg);\n\n      });\n  };\n\n  return (\n  <Form>\n    <Form.Group className=\"mb-3\" controlId=\"Email\">\n      <Form.Label>Email address</Form.Label>\n      <Form.Control type=\"text\" placeholder=\"Enter email\" \n        value={email} onChange={e=>setEmail(e.target.value)}\n      />\n    </Form.Group>\n\n    <Form.Group className=\"mb-3\" controlId=\"formBasicPassword\">\n      <Form.Label>Password</Form.Label>\n      <Form.Control type=\"password\" placeholder=\"Password\" \n        value = {password} onChange={e=>setPassword(e.target.value)}\n      />\n    </Form.Group>\n\n    { (alerts) &&\n    <Alert variant=\"danger\">\n      {alerts}\n    </Alert>\n    }\n\n    <Button variant=\"primary\" type=\"submit\" \n        onClick = {(e)=> handleSubmit(e)}>\n      Log In\n    </Button>\n\n  </Form>\n  );   \n};\n\nexport default LoginForm;\n","import React, { useState, useContext } from \"react\";\nimport { useHistory } from 'react-router-dom';\nimport {\n  Alert,\n  Form,\n  Button\n} from 'react-bootstrap';\n\nimport { Context } from '../context/appContext';\n\nconst RegisterForm = (props)=>{\n  const [alerts, setAlerts] = useState(null);\n  const [email, setEmail] = useState(\"\");\n  const [name, setName] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n\n  const actions = useContext(Context).actions;\n  const history = useHistory();\n\n  const handleSubmit = (e)=> {\n    e.preventDefault();\n    actions.register(email, name, password)\n      .then(()=>{\n        console.log(\"You have been registered\");\n        actions.login(email, password)\n      })\n      .then(()=>{\n        props.handleSuccess();\n        // redirect to dashboard\n        history.push('/dashboard');\n        console.log(\"You have beeen logged in\");\n      }\n      ).catch((error)=>{\n        console.log(\"Error 3\", error.response.data.msg);\n        setAlerts(error.response.data.msg);\n      });\n  };\n\n  return (\n  <Form>\n    <Form.Group className=\"mb-3\" controlId=\"Name\">\n      <Form.Label>Name</Form.Label>\n      <Form.Control type=\"text\" placeholder=\"Enter name\" \n        value={name} onChange={e=>setName(e.target.value)}\n      />\n    </Form.Group>\n\n    <Form.Group className=\"mb-3\" controlId=\"Email\">\n      <Form.Label>Email address</Form.Label>\n      <Form.Control type=\"text\" placeholder=\"Enter email\" \n        value={email} onChange={e=>setEmail(e.target.value)}\n      />\n    </Form.Group>\n\n    <Form.Group className=\"mb-3\" controlId=\"Password\">\n      <Form.Label>Password</Form.Label>\n      <Form.Control type=\"password\" placeholder=\"Enter Password\" \n        value = {password} onChange={e=>setPassword(e.target.value)}\n      />\n    </Form.Group>\n\n    { (alerts) &&\n    <Alert variant=\"danger\">\n      {alerts}\n    </Alert>\n    }\n\n    <Button variant=\"primary\" type=\"submit\" \n        onClick = {(e)=> handleSubmit(e)}>\n      Register\n    </Button>\n\n  </Form>\n  );   \n};\n\nexport default RegisterForm;\n","import React, { Component } from 'react';\nimport axios from 'axios';\nimport { Row,Col,Spinner,Button } from 'react-bootstrap';\nimport { Pollcard } from '../components';\n\nconsole.log(process.env);\n\nclass AllPolls extends Component {\n  constructor (props){\n    super(props);\n    this.state = {\n      polls : null,\n      loading: true\n    };\n    axios.get(process.env.REACT_APP_API_SERVER + \"/polls/viewpoll\",\n      {headers: {'Accepts': 'aplication/json'}}\n    ).then((resp)=>{\n        console.log(resp.data);\n        this.setState({ polls : resp.data, loading: false });\n      }\n    ).catch((error) =>{\n        console.log(error);\n      }\n    );\n  }\n\n  render() {\n    const polls = this.state.polls;\n    console.log('Hello')\n    console.log(polls);\n\n    return (\n      <>\n\n      {(polls) ? (\n        <Row xs={1} md={2} lg={3}  className=\"g-4\">\n        {polls.polls.map((poll)=>(\n          <Pollcard polldata={poll}/>\n          )\n        )}\n        </Row>\n      ) : (\n        <>\n        <Row className=\"align-items-center text-center\" style={{height:\"70vh\"}}>\n        <Col>\n          <Spinner animation=\"grow\" />\n          <br/><br/>\n          <p className=\"text-muted\">All polls will be displayed here</p>\n        </Col>\n        </Row>\n        </>\n      )}\n\n      <Button\n       variant = 'secondary'\n       onClick = {this.props.handleClick}\n      >\n        Back\n      </Button>\n      </>\n    )\n  }\n}\n\nexport default AllPolls;\n","import React, { useState, useContext } from 'react';\nimport axios from 'axios';\n\nimport {\n  Form,\n  Button\n} from 'react-bootstrap';\n\nimport { Context } from '../context/appContext';\n\nconst Pollform = (props) => {\n  const store = useContext(Context).store;\n  const [ option, setOption ] = useState({\n    poll_id: props.poll.polldata.poll_id\n  });\n  \n  const handleRadio = (event) => {\n    setOption({...option, option_id : event.target.value});\n    console.log('option set as:', event.target.value, props.poll.polloptions[event.target.value]);\n  };\n\n  const handleSubmit = (e)=>{\n    e.preventDefault();\n    const vote = option;\n    const opts={\n      method: \"POST\",\n      headers: {\n        \"Content-Type\":\"application/json\",\n        \"Authorization\": \"Bearer \"+ store.token\n      },\n      data: JSON.stringify(vote)\n    };\n\n    console.log(opts);\n    axios(process.env.REACT_APP_API_SERVER+\"/api/polls/votepoll\", opts)\n      .then((resp)=>{\n        if (resp.status === 200)\n          console.log('voted successfully');\n          props.setchanged(!props.changed)\n        if (resp.status === 400)\n          console.log('already voted');\n\n      }).catch((error)=>{\n        console.error('caught error', error.response.data.msg);\n        props.setchanged(!props.changed) \n      })\n    \n\n  }\n\n  return (\n    <>\n    <Form onSubmit={handleSubmit}>\n      <h1>{props.poll.polldata.question}</h1>\n      <Form.Group onChange={handleRadio}>\n      {Object.entries(props.poll.polloptions).map((key, i)=>\n                (\n                  <Form.Check\n                    name=\"option\"\n                    type=\"radio\"\n                    label={key[1]}\n                    value={key[0]}\n                  />\n                )\n        ) \n      }\n      </Form.Group>\n      <Button variant=\"primary\" type=\"submit\">\n        Submit\n      </Button>\n    </Form>\n    </>\n  )\n}\n\nexport default Pollform;\n","import React, { useState, useContext } from 'react';\nimport axios from 'axios';\nimport { useHistory } from 'react-router-dom';\n\nimport { Col,Card,Collapse,ListGroup,Button } from 'react-bootstrap';\nimport { Context } from \"../context/appContext\";\n\nconst Pollcard = (props) => {\n  const poll = props.polldata;\n  const [polldata, setPolldata] = useState(false);\n  const [open, setOpen] = useState(false);\n  const token = useContext(Context).store.token;\n  const history = useHistory();\n\n  const handleCheckout = (pollid) =>{\n    const opts={\n      method: \"GET\",\n      headers: {\n        \"Accept\":\"application/json\",\n        \"Content-Type\":\"application/json\",\n        \"Authorization\": \"Bearer \"+ token\n      },\n      params: {\"poll_id\":pollid}\n    };\n\n    axios.get(process.env.REACT_APP_API_SERVER + \"/api/polls/getpoll\",\n      opts\n    ).then((resp)=>{\n        console.log('response data',resp.data);\n        const data = resp.data;\n        setPolldata(data);\n        console.log('poll data:',polldata);\n        setOpen(!open);\n      }\n    ).catch((error) =>{\n        console.log(error.response.status);\n        if (error.response.status === 422 || error.response.status === 401 )\n          history.push('/login');\n      }\n    );\n  }\n\n  return (\n    <>\n    <Col>\n    <Card border=\"primary\" className=\"mb-3\" >\n      <Card.Body\n        onClick={()=>handleCheckout(poll.id)}\n        aria-controls=\"example-collapse-text\"\n        aria-expanded={open}\n      >\n        <Card.Title>{poll.question}</Card.Title>\n\n      <Collapse in={open}>\n        <Card.Text id=\"example-collapse-text\">\n          <ListGroup variant=\"flush\">\n            { (polldata)?\n              (Object.entries(polldata.polloptions).map((key, i)=>{\n                return(\n                  <ListGroup.Item id={key[0]}>\n                   {key[1]} \n                  </ListGroup.Item>\n                );\n            })):(\n              <p>Loading</p>\n            )}\n          </ListGroup>\n          { useContext(Context).store.isAuthenticated &&\n          <Button\n           variant = 'primary'\n           onClick={()=>history.push('/poll/'+polldata.polldata.poll_id)}\n          >Check out</Button>\n          }\n        </Card.Text>  \n      </Collapse>\n\n      </Card.Body>\n      <Card.Footer className=\"text-muted text-end\">Poll created on</Card.Footer>\n    </Card>\n    </Col>\n    </>\n  );\n};\n\nexport default Pollcard;\n","import React from 'react';\nimport {\n  Row,\n  Col,\n  ProgressBar\n} from 'react-bootstrap';\n\nconst Pollstatus = (props)=>{\n  const options = props.poll.polloptions;\n  const votes = props.poll.pollvotes;\n  var totalvotes = 0;\n  var progress = {};\n\n  Object.entries(votes).map((item)=>{\n    totalvotes = totalvotes + item[1];\n    return true;\n  });\n  Object.entries(votes).map((item)=>{\n    progress[item[0]] = (item[1]*100)/totalvotes;\n    return true;\n  });\n\n  console.log('calcs:', totalvotes, progress);\n\n  return (\n    <>\n    {progress ? (\n      Object.entries(options).map((option)=>(\n        <Row>\n          <Col className=\"col-2\">\n            <h1 className=\"h4 align-self-center\">{option[1]}</h1>\n          </Col>\n          <Col className=\"col-8 align-self-center\">\n            <ProgressBar striped variant=\"success\" now={progress[option[0]]} />\n          </Col>\n          <Col className=\"col-2\">\n            <h1 className=\"h4\">{votes[option[0]]}</h1>\n          </Col>\n        </Row>\n      ))\n    ):(\n      <>\n      Loading\n      </>\n    )} \n    </>\n  )\n}\nexport default Pollstatus;\n","import React, { useState, useContext, useEffect } from 'react';\nimport axios from 'axios';\nimport { Context } from '../context/appContext';\n\nimport {\n  Row\n} from 'react-bootstrap';\n\nimport Pollcard from './Pollcard';\n\nconst AttemptedPolls =(props)=>{\n  const [polls, setPolls] = useState(null);\n  const token = useContext(Context).store.token;\n\n  useEffect(()=>{\n\n    axios.get(process.env.REACT_APP_API_SERVER + \"/api/polls/attemptedpoll\",\n      {headers: \n        {'Accept': 'application/json', \n          'Authorization': 'Bearer '+ token}\n      }\n    ).then((resp)=>{\n        console.log(resp.data);\n        setPolls(resp.data);\n      }\n    ).catch((error) =>{\n        console.log(error);\n      }\n    );\n\n  }, [token]);\n\n  return (\n    <>\n    {(polls) ?(\n      <>\n        <Row xs={1} md={2} lg={3}  className=\"g-4\">\n        {polls.polls.map((poll)=>(\n          <Pollcard polldata={poll}/>\n         ))}\n         </Row>\n      </>\n    ):(\n      <p>Loading</p>\n    )}\n    </>\n  )\n  \n}\nexport default AttemptedPolls;\n","import React, { useState, useContext, useEffect } from 'react';\nimport axios from 'axios';\nimport { Context } from '../context/appContext';\n\nimport {\n  Row\n} from 'react-bootstrap';\n\nimport Pollcard from './Pollcard';\n\nconst MyPolls =(props)=>{\n  const [polls, setPolls] = useState(null);\n  const token = useContext(Context).store.token;\n\n  useEffect(()=>{\n\n    axios.get(process.env.REACT_APP_API_SERVER + \"/api/polls/mypoll\",\n      {headers: \n        {'Accept': 'application/json', \n          'Authorization': 'Bearer '+ token}\n      }\n    ).then((resp)=>{\n        console.log(resp.data);\n        setPolls(resp.data);\n      }\n    ).catch((error) =>{\n        console.log(error);\n      }\n    );\n\n  }, [token]);\n\n  return (\n    <>\n    {(polls) ?(\n      <>\n        <Row xs={1} md={2} lg={3}  className=\"g-4\">\n        {polls.polls.map((poll)=>(\n          <Pollcard polldata={poll}/>\n         ))}\n         </Row>\n      </>\n    ):(\n      <p>Loading</p>\n    )}\n    </>\n  )\n  \n}\nexport default MyPolls;\n","import React from 'react';\nimport {\n  Row,\n  Col,\n  Button \n} from 'react-bootstrap';\n\nconst WelcomeMessage = (props) => {\n  return (\n    <Row className=\"align-items-center text-center\" style={{height:'60vh'}}>\n    <Col>\n    <h1>Welcome to Poll'O</h1>\n    <br/><br/>\n    <Button\n      size=\"lg\"\n      variant = 'outline-primary'\n      onClick = {props.handleClick}\n    >\n      View Polls\n    </Button>\n    </Col>\n    </Row>\n  );\n};\n\nexport default WelcomeMessage;\n","import React, { useState } from \"react\";\nimport {\n  Row,\n  Col,\n  Nav,\n  Modal\n} from \"react-bootstrap\";\n\nimport { LoginForm, RegisterForm } from './index';\nimport './ModalLogin.css';\n\nconst ModalLogin = (props) => {\n  const [ register, setRegister ] = useState(false);\n  \n  const handleSuccess = ()=>{\n    props.setModalShow(null);\n  }\n\n  return (\n   <Modal\n     {...props}\n     size=\"lg\"\n     aria-labelledby=\"contained-modal-title-vcenter\"\n     \n   >\n     <Modal.Header closeButton>\n       <Modal.Title>Sign In</Modal.Title>\n     </Modal.Header>\n    \n     <Modal.Body>\n    <Row>\n    <Col className=\"col-2\">\n    <Nav variant=\"pills\" className=\"text-center\">\n      <Nav.Item>\n        <Nav.Link onClick={()=>setRegister(false)} active={!register}>Login</Nav.Link>\n      </Nav.Item>\n      <Nav.Item>\n        <Nav.Link onClick={()=>setRegister(true)} active={register}>Register</Nav.Link>\n      </Nav.Item>\n    </Nav>\n    </Col>\n    <Col>{ register?(\n          <RegisterForm handleSuccess={handleSuccess}/>\n          ):(\n           <LoginForm handleSuccess={handleSuccess} />\n          )}\n     </Col>\n     </Row> \n     </Modal.Body>\n   </Modal>\n );\n};\n \nexport default ModalLogin;\n\n","import React from 'react';\nimport {\n  Form,\n  ButtonGroup,\n  InputGroup,\n  Button\n} from 'react-bootstrap';\n\nimport { Context } from '../context/appContext';\n\n// functional component to add and remove options\nconst OptionGroup = (props) => {\n    const count = props.count;\n    return (\n      <Form.Group className=\"mb-3\" controlId={'Option'+(count+1)}>\n      <InputGroup>\n        <InputGroup.Text\n          id = {'Option'+(count+1)}\n        >Option {count+1}</InputGroup.Text>\n        <Form.Control\n          className=\"col-sm-10\"\n          type=\"text\"\n          name = {count}\n          aria-describedby={'Option'+(count+1)}\n          value={props.value}\n          onChange = {(event)=>(props.handleChangeInput(event, count))}\n        />\n      </InputGroup>\n      </Form.Group>\n    );\n  };\n\n// class component for create poll form\nclass CreatePoll extends React.Component {\n  static contextType = Context;\n\n  constructor(props){\n    super(props);\n    this.state={\n    question:\"\",\n    options:[\"\",\"\"]\n    }\n\n    \n  }\n\n  addOption = () => {\n      const values = this.state;\n      if (values.options.length < 10){\n        values.options.push('');\n      }\n      this.setState(values);\n    \n    }\n\n   removeOption = () => {\n      const values = this.state;\n      if (values.options.length > 2){\n        values.options.pop();\n      }\n      this.setState(values);\n    }\n\n   handleChangeInput= (event, i) => {\n      console.log(i);\n      const values = this.state;\n      values.options[i] = event.target.value;\n      this.setState(values);\n    }\n\n  handleSubmit = (e) => {\n    e.preventDefault();\n    console.log(this.state, this.context);\n    this.context.actions.create_post(this.state)\n      .then((ret)=>{\n        if (ret){\n        this.props.onHide();\n        console.log('post created successfully')\n        }\n      }).catch(\n        console.log(\"Error in action: create_post\")\n      )\n    \n  }\n\n  render() {\n    return (\n    <>\n    <Form onSubmit={this.handleSubmit}>\n      <Form.Group className=\"mb-3\" controlId=\"\">\n        <Form.Label>Question</Form.Label>\n        <Form.Control\n          name = \"question\"\n          value={this.state.question}\n          onChange={(e)=>(\n            this.setState(\n              prevState=>({...prevState, [e.target.name]:e.target.value}))\n          )}\n          as=\"textarea\" rows={2} \n          placeholder=\"Enter Question you want to ask\" />\n      </Form.Group>\n      \n      {this.state.options.map((option, i) => (\n          <OptionGroup count={i}\n            value = {option}\n            handleChangeInput={this.handleChangeInput}\n          />\n        )\n      )}\n\n    <Form.Group className=\"mt-3\">\n    <ButtonGroup aria-label=\"Basic example\">\n      <Button variant=\"success\"\n        onClick={()=>this.addOption()}\n      >Add</Button>\n      <Button variant=\"secondary\"\n        onClick={()=>this.removeOption()}\n      >Remove</Button>\n    </ButtonGroup>\n    </Form.Group>\n    <hr/>\n    <Form.Group className='mt-3 text-end'>\n      <Button className='m-2' onClick={this.props.onHide}>Close</Button>\n      <Button className='m-2' variant=\"primary\" type=\"submit\">\n        Submit\n      </Button>\n    </Form.Group>\n    </Form>\n    </>\n  );\n }\n  \n};\n\nexport default CreatePoll;\n","import React  from 'react';\nimport {\n  Modal,\n} from 'react-bootstrap';\nimport CreatePoll from'./CreatePoll';\n\n\nconst ModalCreatePoll = (props) =>{\n \n\n  return (\n    <>\n    <Modal\n    {...props}\n    size=\"lg\"\n    aria-labelledby=\"contained-modal-title-vcenter\"\n    centered\n  >\n    <Modal.Header closeButton>\n      <Modal.Title id=\"contained-modal-title-vcenter\">\n        Create Poll\n      </Modal.Title>\n    </Modal.Header>\n    <Modal.Body>\n\n      <CreatePoll onHide={props.onHide} />\n\n    </Modal.Body>\n  </Modal>\n    </>\n  );\n};\n\nexport default ModalCreatePoll;\n","import React, { useState, useContext } from \"react\";\nimport { useHistory } from 'react-router-dom';\nimport {\n  Navbar,\n  Nav,\n  NavDropdown,\n  Container\n} from \"react-bootstrap\";\nimport { LinkContainer } from \"react-router-bootstrap\";\nimport { Context } from \"../context/appContext\";\n\nimport ModalLogin from \"./ModalLogin\";\nimport ModalCreatePoll from './ModalCreatePoll';\n\nconst Navigation = () => {\n  const { store, actions } = useContext(Context);\n  const [modalShow, setModalShow] = useState(null);\n  const history = useHistory();\n\n  return (\n    <>\n    <Navbar bg=\"primary\" variant=\"dark\" expand=\"md\">\n    <Container>\n\n     <LinkContainer exact to='/'>\n      <Navbar.Brand>Poll'O</Navbar.Brand>\n     </LinkContainer>\n     <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\n\n     <Navbar.Collapse id=\"basic-navbar-nav\">\n\n       <Nav className=\"me-auto justify-content-center\">\n\n        { store.isAuthenticated ? (\n          <>\n             <Nav.Link \n                variant=\"light\"\n                onClick={() => setModalShow('CreatePoll')}\n             >\n              Create Poll\n             </Nav.Link> \n\n             <ModalCreatePoll show={modalShow==='CreatePoll'} onHide={()=> setModalShow(null)} />\n          </>\n        ):(\n          <>\n          </>\n        )}\n\n        <LinkContainer exact to='/'>\n          <Nav.Link> Polls </Nav.Link>\n        </LinkContainer>\n\n       </Nav>\n\n       <Nav className=\"me-auto;justify-content-end;\">\n       { !(store.isAuthenticated && store.user) ? (\n         <>\n         <Nav.Link \n            variant=\"light\"\n            onClick={() => setModalShow('Login')}\n         >\n          Sign In\n         </Nav.Link> \n\n         <ModalLogin show={modalShow === 'Login'} onHide={() => setModalShow(null)} setModalShow={setModalShow}/>\n         </>\n       ):(\n         <>\n         <LinkContainer to='/dashboard'>\n           <Nav.Link>\n             Dashboard\n           </Nav.Link>\n         </LinkContainer>\n        \n\n        <NavDropdown title={'hi, '+ store.user.name } id=\"collasible-nav-dropdown\">\n          <NavDropdown.Item>Accout Settings</NavDropdown.Item>\n          <NavDropdown.Divider />\n          <NavDropdown.Item \n            onClick={()=>{\n              actions.logout(); \n              history.push('/');\n              history.go(0);\n            }}\n          >Sign Out</NavDropdown.Item>\n        </NavDropdown>\n\n       </>\n       )\n       }\n         </Nav>\n    \n     </Navbar.Collapse>\n    </Container>\n    </Navbar>\n    </>\n  );\n};\n\nexport default Navigation;\n","import React from \"react\";\nimport {\n  Container\n} from 'react-bootstrap';\n\nconst Layout = (props) => ( \n    <>\n    <Container className='h-100'>\n      <h1 className=\"display-1 text-center\">{props.heading}</h1> \n      <hr/>\n    {props.children}\n    </Container>\n    </>\n)\n\nexport { Layout };\n","import React, { useState } from \"react\";\n\nimport { Layout } from '../layout/Layout';\nimport { \n  AllPolls,\n  WelcomeMessage\n} from '../components';\n\nconst Home = () => {\n  const [viewPolls, setViewPolls] = useState(false);\n\n  const handleClick = ()=>(setViewPolls(!viewPolls))\n \n  return (\n    <Layout heading=\"Poll'O\">\n\n       { (viewPolls) ? (\n          <>\n           <AllPolls handleClick={handleClick}/>\n          </>\n       ) : (\n           <WelcomeMessage handleClick={handleClick} />\n       )\n\n       }\n    </Layout>\n  );\n};\n\nexport default Home;\n","import React from \"react\";\n\nimport {\n  Tabs,\n  Tab\n} from 'react-bootstrap';\n\nimport { Layout } from '../layout/Layout';\nimport { AttemptedPolls, MyPolls } from '../components';\n\nconst Dashboard = () => (\n  <Layout heading=\"Dashboard\">\n    <Tabs defaultActiveKey=\"AttemptedPolls\" id=\"uncontrolled-tab-example\" className=\"mb-3\">\n      <Tab eventKey=\"AttemptedPolls\" title=\"Attempted Polls\">\n        <AttemptedPolls />\n      </Tab>\n      <Tab eventKey=\"mypolls\" title=\"My Polls\">\n        <MyPolls />\n      </Tab>\n    </Tabs>\n  </Layout>\n);\n\nexport default Dashboard;\n","import React, { useContext, useEffect } from \"react\";\nimport { useHistory } from 'react-router-dom';\nimport {Row, Col, Tabs, Tab} from 'react-bootstrap';\n\nimport { Layout } from '../layout/Layout';\nimport { Context } from '../context/appContext';\nimport { LoginForm, RegisterForm } from '../components';\n\nconst Login = () => {\n  const authenticated = useContext(Context).store.isAuthenticated;\n  const history = useHistory();\n\n  useEffect(()=>{\n    if (authenticated) history.goBack();\n  }, [authenticated, history])\n \n  return (\n  <Layout heading=\"Login | Register\">\n    <Row className=\"justify-content-center\">\n     <Col className=\"col-lg-4\">\n     <Tabs defaultActiveKey=\"Login\" id=\"uncontrolled-tab-example\" className=\"mb-3\">\n  <Tab eventKey=\"Login\" title=\"Login\">\n    <LoginForm />\n  </Tab>\n  <Tab eventKey=\"Register\" title=\"Register\">\n    <RegisterForm />\n  </Tab>\n</Tabs> \n     </Col>\n    </Row>\n  </Layout>\n )\n}\n\nexport default Login;\n","import React, { useState, useContext, useEffect } from \"react\";\nimport axios from 'axios';\nimport { useParams, useHistory } from 'react-router-dom';\nimport {\n  Card,\n  Row,\n  Col,\n  Form\n} from 'react-bootstrap';\n\nimport { Layout } from '../layout/Layout';\nimport { Context } from '../context/appContext';\nimport { \n  Pollform,\n  Pollstatus\n} from '../components';\n\nconst Pollpage = () => {\n  const { poll_id } = useParams();\n  const history = useHistory();\n  const [ loading, setLoading ] = useState(true);\n  const [ changed, setChanged ] = useState(false);\n  const [ poll, setPoll ] = useState(null);\n  const token = useContext(Context).store.token;\n  \n  console.log('poll id received:',poll_id, token);\n  \n  useEffect(()=> {\n    \n  const opts = {\n      method: \"GET\",\n      headers: {\n        \"Accept\":\"application/json\",\n        \"Authorization\": \"Bearer \"+ token\n      },\n      params: {\"poll_id\":poll_id}\n  }\n  axios.get(process.env.REACT_APP_API_SERVER+\"/api/polls/getpoll\", opts)\n    .then((resp)=>{\n      if (resp.status === 200){\n      setPoll(resp.data);\n      setLoading(false);\n      }\n    }).catch((error)=>{\n      console.error(\"error in getpoll:\", error);\n      if (error.response.status === 422 || error.response.status === 401)\n        history.push('/login');\n    });\n  }, [changed, token, poll_id, history])\n  console.log(poll);\n\n  return (\n    <Layout heading=\"Poll'O\">\n    {loading ? (\n        <>\n        <p>Loading</p>\n        </>\n      ):(\n        <>\n        <Row>\n          <Card className=\"text-center h2\" body>{poll.polldata.question}</Card>\n        </Row>\n        <Row className=\"justify-content-center\">\n        { !poll.polldata.attempted &&\n          <Col className=\"col-md-6\">\n            <Pollform poll = {poll} changed={changed} setchanged={setChanged}/>\n          </Col>\n        }\n        <Col className=\"col-md-6\">\n          <Pollstatus poll = {poll} />\n        </Col>\n        </Row>\n\n        <Row className=\"justify-content-center text-center\">\n        <Col>\n          <Form.Group as={Row} className=\"mb-3 justify-content-center\" >\n            <Form.Label column sm=\"2\">\n               Share Link \n            </Form.Label>\n            <Col sm=\"4\">\n              <Form.Control plaintext readOnly defaultValue={window.location.href} />\n            </Col>\n          </Form.Group>\n        </Col>\n\n        </Row>\n        </>\n      )\n    }\n    </Layout>\n  );\n};\n\nexport default Pollpage;\n","import React from \"react\";\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route\n} from \"react-router-dom\";\n\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './App.css';\n\nimport Navigation from './components/Navigation.js';\nimport {Home, Dashboard, Login, Pollpage} from './pages';\nimport injectContext from './context/appContext';\n\nfunction App() {\n  return (\n    <Router>\n\n      <Navigation />\n\n      <Switch>\n\n        <Route exact path=\"/\">\n          <Home />\n        </Route>\n\n        <Route exact path=\"/dashboard\">\n          <Dashboard />\n        </Route>\n\n        <Route exact path=\"/login\">\n          <Login />\n        </Route>\n\n        <Route exact path=\"/poll/:poll_id\">\n          <Pollpage />\n        </Route>\n\n    </Switch>\n\n    </Router>\n  );\n};\n\nexport default injectContext(App);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n"],"sourceRoot":""}