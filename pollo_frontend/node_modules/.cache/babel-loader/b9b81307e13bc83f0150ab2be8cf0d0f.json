{"ast":null,"code":"import _objectSpread from\"/home/johnrijoy/projects/polling-webapp/pollo_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/johnrijoy/projects/polling-webapp/pollo_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import getState from'./contextData';import{jsx as _jsx}from\"react/jsx-runtime\";export var Context=/*#__PURE__*/React.createContext(null);var injectContext=function injectContext(PassedComponent){var StoreWrapper=function StoreWrapper(props){var _useState=useState(getState({getStore:function getStore(){return state.store;},getActions:function getActions(){return state.actions;},setStore:function setStore(updatedStore){return setState({store:Object.assign(state.store,updatedStore),actions:_objectSpread({},state.actions)});}})),_useState2=_slicedToArray(_useState,2),state=_useState2[0],setState=_useState2[1];useEffect(function(){state.actions.syncTokenFromSessionStorage();},[state.actions]);return/*#__PURE__*/_jsx(Context.Provider,{value:state,children:/*#__PURE__*/_jsx(PassedComponent,_objectSpread({},props))});};return StoreWrapper;};export default injectContext;","map":{"version":3,"sources":["/home/johnrijoy/projects/polling-webapp/pollo_frontend/src/context/appContext.js"],"names":["React","useState","useEffect","getState","Context","createContext","injectContext","PassedComponent","StoreWrapper","props","getStore","state","store","getActions","actions","setStore","updatedStore","setState","Object","assign","syncTokenFromSessionStorage"],"mappings":"yVAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,QAAP,KAAqB,eAArB,C,2CAEA,MAAO,IAAMC,CAAAA,OAAO,cAAGJ,KAAK,CAACK,aAAN,CAAoB,IAApB,CAAhB,CAEP,GAAMC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAAAC,eAAe,CAAI,CACvC,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAAAC,KAAK,CAAI,CAE5B,cAA0BR,QAAQ,CAChCE,QAAQ,CAAC,CACPO,QAAQ,CAAE,0BAAMC,CAAAA,KAAK,CAACC,KAAZ,EADH,CAEPC,UAAU,CAAE,4BAAMF,CAAAA,KAAK,CAACG,OAAZ,EAFL,CAGPC,QAAQ,CAAE,kBAACC,YAAD,QAAiBC,CAAAA,QAAQ,CAAC,CAClCL,KAAK,CAAEM,MAAM,CAACC,MAAP,CAAcR,KAAK,CAACC,KAApB,CAA2BI,YAA3B,CAD2B,CAElCF,OAAO,kBAAOH,KAAK,CAACG,OAAb,CAF2B,CAAD,CAAzB,EAHH,CAAD,CADwB,CAAlC,wCAAOH,KAAP,eAAcM,QAAd,eAWAf,SAAS,CAAC,UAAI,CACZS,KAAK,CAACG,OAAN,CAAcM,2BAAd,GACD,CAFQ,CAEP,CAACT,KAAK,CAACG,OAAP,CAFO,CAAT,CAIA,mBACE,KAAC,OAAD,CAAS,QAAT,EAAkB,KAAK,CAAEH,KAAzB,uBACE,KAAC,eAAD,kBAAqBF,KAArB,EADF,EADF,CAKD,CAtBD,CAwBA,MAAOD,CAAAA,YAAP,CACD,CA1BD,CA4BA,cAAeF,CAAAA,aAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport getState from './contextData';\n\nexport const Context = React.createContext(null);\n\nconst injectContext = PassedComponent => {\n  const StoreWrapper = props => {\n\n    const [state, setState] = useState(\n      getState({\n        getStore: () => state.store,\n        getActions: () => state.actions,\n        setStore: (updatedStore)=> setState({\n          store: Object.assign(state.store, updatedStore),\n          actions: { ...state.actions }\n        })\n      })\n    );\n\n    useEffect(()=>{\n      state.actions.syncTokenFromSessionStorage();\n    },[state.actions]);\n\n    return (\n      <Context.Provider value={state}>\n        <PassedComponent {...props}/>\n      </Context.Provider>\n    );\n  };\n\n  return StoreWrapper;\n};\n\nexport default injectContext;\n"]},"metadata":{},"sourceType":"module"}