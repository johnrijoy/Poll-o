{"ast":null,"code":"import _slicedToArray from\"/home/johnrijoy/projects/polling-webapp/pollo_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useContext,useEffect}from'react';import axios from'axios';import{Context}from'../context/appContext';import{Row}from'react-bootstrap';import Pollcard from'./Pollcard';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var MyPolls=function MyPolls(props){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),polls=_useState2[0],setPolls=_useState2[1];var token=useContext(Context).store.token;useEffect(function(){axios.get(process.env.REACT_APP_API_SERVER+\"/api/polls/mypoll\",{headers:{'Accept':'application/json','Authorization':'Bearer '+token}}).then(function(resp){console.log(resp.data);setPolls(resp.data);}).catch(function(error){console.log(error);});},[token]);return/*#__PURE__*/_jsx(_Fragment,{children:polls?/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(Row,{xs:1,md:2,lg:3,className:\"g-4\",children:polls.polls.map(function(poll){return/*#__PURE__*/_jsx(Pollcard,{polldata:poll});})})}):/*#__PURE__*/_jsx(\"p\",{children:\"Loading\"})});};export default MyPolls;","map":{"version":3,"sources":["/home/johnrijoy/projects/polling-webapp/pollo_frontend/src/components/MyPolls.js"],"names":["React","useState","useContext","useEffect","axios","Context","Row","Pollcard","MyPolls","props","polls","setPolls","token","store","get","process","env","REACT_APP_API_SERVER","headers","then","resp","console","log","data","catch","error","map","poll"],"mappings":"6KAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,UAA1B,CAAsCC,SAAtC,KAAuD,OAAvD,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,OAAT,KAAwB,uBAAxB,CAEA,OACEC,GADF,KAEO,iBAFP,CAIA,MAAOC,CAAAA,QAAP,KAAqB,YAArB,C,gGAEA,GAAMC,CAAAA,OAAO,CAAE,QAATA,CAAAA,OAAS,CAACC,KAAD,CAAS,CACtB,cAA0BR,QAAQ,CAAC,IAAD,CAAlC,wCAAOS,KAAP,eAAcC,QAAd,eACA,GAAMC,CAAAA,KAAK,CAAGV,UAAU,CAACG,OAAD,CAAV,CAAoBQ,KAApB,CAA0BD,KAAxC,CAEAT,SAAS,CAAC,UAAI,CAEZC,KAAK,CAACU,GAAN,CAAUC,OAAO,CAACC,GAAR,CAAYC,oBAAZ,CAAmC,mBAA7C,CACE,CAACC,OAAO,CACN,CAAC,SAAU,kBAAX,CACE,gBAAiB,UAAWN,KAD9B,CADF,CADF,EAKEO,IALF,CAKO,SAACC,IAAD,CAAQ,CACXC,OAAO,CAACC,GAAR,CAAYF,IAAI,CAACG,IAAjB,EACAZ,QAAQ,CAACS,IAAI,CAACG,IAAN,CAAR,CACD,CARH,EASEC,KATF,CASQ,SAACC,KAAD,CAAU,CACdJ,OAAO,CAACC,GAAR,CAAYG,KAAZ,EACD,CAXH,EAcD,CAhBQ,CAgBN,CAACb,KAAD,CAhBM,CAAT,CAkBA,mBACE,yBACEF,KAAD,cACC,sCACE,KAAC,GAAD,EAAK,EAAE,CAAE,CAAT,CAAY,EAAE,CAAE,CAAhB,CAAmB,EAAE,CAAE,CAAvB,CAA2B,SAAS,CAAC,KAArC,UACCA,KAAK,CAACA,KAAN,CAAYgB,GAAZ,CAAgB,SAACC,IAAD,qBACf,KAAC,QAAD,EAAU,QAAQ,CAAEA,IAApB,EADe,EAAhB,CADD,EADF,EADD,cASC,8BAVF,EADF,CAgBD,CAtCD,CAuCA,cAAenB,CAAAA,OAAf","sourcesContent":["import React, { useState, useContext, useEffect } from 'react';\nimport axios from 'axios';\nimport { Context } from '../context/appContext';\n\nimport {\n  Row\n} from 'react-bootstrap';\n\nimport Pollcard from './Pollcard';\n\nconst MyPolls =(props)=>{\n  const [polls, setPolls] = useState(null);\n  const token = useContext(Context).store.token;\n\n  useEffect(()=>{\n\n    axios.get(process.env.REACT_APP_API_SERVER + \"/api/polls/mypoll\",\n      {headers: \n        {'Accept': 'application/json', \n          'Authorization': 'Bearer '+ token}\n      }\n    ).then((resp)=>{\n        console.log(resp.data);\n        setPolls(resp.data);\n      }\n    ).catch((error) =>{\n        console.log(error);\n      }\n    );\n\n  }, [token]);\n\n  return (\n    <>\n    {(polls) ?(\n      <>\n        <Row xs={1} md={2} lg={3}  className=\"g-4\">\n        {polls.polls.map((poll)=>(\n          <Pollcard polldata={poll}/>\n         ))}\n         </Row>\n      </>\n    ):(\n      <p>Loading</p>\n    )}\n    </>\n  )\n  \n}\nexport default MyPolls;\n"]},"metadata":{},"sourceType":"module"}